{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AcerPc\\\\Desktop\\\\scmp-website-new\\\\client\\\\src\\\\components\\\\admin\\\\UploadEvent.jsx\";\nimport axios from 'axios';\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadEvent() {\n  let form = new FormData();\n  let coverPhoto, innerPhotos, title;\n\n  const coverPhotoF = e => {\n    form.delete('coverPhoto');\n    coverPhoto = e.target.files;\n\n    if (coverPhoto) {\n      form.append('coverPhoto', coverPhoto[0], coverPhoto[0].name);\n    }\n  };\n\n  const innerPhotosF = e => {\n    form.delete('innerPhoto');\n    innerPhotos = e.target.files;\n\n    if (innerPhotos) {\n      for (let i = 0; i < innerPhotos.length; i++) {\n        form.append('innerPhoto', innerPhotos[i], innerPhotos[i].name);\n      }\n    }\n\n    for (var pair of form.entries()) {\n      console.log(pair[0] + ', ' + pair[1].name);\n    }\n  };\n\n  const titleF = e => {\n    title = e.target.value;\n\n    if (title) {\n      form.append('title', title);\n    }\n  };\n\n  const onSubmit = async e => {\n    if (coverPhoto && innerPhotos && title) {\n      try {\n        await axios.post(\"http://192.168.0.140:3002/api/EventUpload\", form).then(e => {\n          toast.success(\"Upload success\");\n          /*   setTimeout(() => {\r\n              navigate(\"/Events\")\r\n            }, 3000); */\n        }).catch(e => {\n          console.log(e);\n          toast.error(\"Upload error\");\n        });\n      } catch (error) {\n        alert('upload failed');\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: e => coverPhotoF(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: e => innerPhotosF(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: e => titleF(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: onSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_c = UploadEvent;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadEvent\");","map":{"version":3,"names":["axios","React","Button","toast","UploadEvent","form","FormData","coverPhoto","innerPhotos","title","coverPhotoF","e","delete","target","files","append","name","innerPhotosF","i","length","pair","entries","console","log","titleF","value","onSubmit","post","then","success","catch","error","alert"],"sources":["C:/Users/AcerPc/Desktop/scmp-website-new/client/src/components/admin/UploadEvent.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react'\r\nimport { Button } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function UploadEvent() {\r\nlet form=new FormData();\r\nlet coverPhoto, innerPhotos , title;\r\n    const coverPhotoF = e=>{\r\n        form.delete('coverPhoto')\r\n        coverPhoto=e.target.files\r\n        if(coverPhoto){\r\n        form.append('coverPhoto', coverPhoto[0], coverPhoto[0].name)\r\n    \r\n    \r\n    }}\r\n    const innerPhotosF = e=>{\r\n     \r\n        form.delete('innerPhoto')\r\n        innerPhotos=e.target.files\r\n        if(innerPhotos){\r\n            for(let i=0 ; i<innerPhotos.length; i++){\r\n                form.append('innerPhoto', innerPhotos[i], innerPhotos[i].name)\r\n            }\r\n        }\r\n        for (var pair of form.entries()) {\r\n            console.log(pair[0]+ ', ' + pair[1].name); \r\n          }\r\n    }\r\n    const titleF = e=>{\r\n\r\n        title=e.target.value\r\n        if(title){\r\n        form.append('title',title)\r\n    }\r\n}\r\n    const onSubmit=async e=>{\r\n        if(coverPhoto && innerPhotos && title){\r\n            try {\r\n                \r\n                await axios.post(\"http://192.168.0.140:3002/api/EventUpload\", form)\r\n                .then((e) => {\r\n               \r\n                   toast.success(\"Upload success\");\r\n            /*   setTimeout(() => {\r\n                navigate(\"/Events\")\r\n              }, 3000); */\r\n                  \r\n                 \r\n                })\r\n                .catch((e) => {\r\n                console.log(e)\r\n                  toast.error(\"Upload error\");\r\n                });  \r\n            } catch (error) {\r\n                alert ('upload failed')\r\n                console.log(error)\r\n            }\r\n        }\r\n    }\r\n  return (\r\n    <div>\r\n      \r\n        <input type=\"file\" onChange={e=>coverPhotoF(e)}/>\r\n        <input type=\"file\" multiple onChange={e=>innerPhotosF(e)}/>\r\n        <input type=\"text\" onChange={e=>titleF(e)}/>\r\n<Button onClick={onSubmit}></Button>\r\n\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}