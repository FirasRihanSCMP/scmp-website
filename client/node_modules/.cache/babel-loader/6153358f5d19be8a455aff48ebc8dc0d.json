{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/DellPc2/Desktop/scmp-website-new/scmp-website-new/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _createForOfIteratorHelper from\"C:/Users/DellPc2/Desktop/scmp-website-new/scmp-website-new/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\DellPc2\\\\Desktop\\\\scmp-website-new\\\\scmp-website-new\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import React from'react';import{Button}from'react-bootstrap';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UploadEvent(){var form=new FormData();var coverPhoto,innerPhotos,title;var coverPhotoF=function coverPhotoF(e){form.delete('coverPhoto');coverPhoto=e.target.files;if(coverPhoto){form.append('coverPhoto',coverPhoto[0],coverPhoto[0].name);}};var innerPhotosF=function innerPhotosF(e){form.delete('innerPhotos');innerPhotos=e.target.files;if(innerPhotos){for(var i=0;i<innerPhotos.length;i++){form.append('innerPhotos',innerPhotos[i],innerPhotos[i].name);}}var _iterator=_createForOfIteratorHelper(form.entries()),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var pair=_step.value;console.log(pair[0]+', '+pair[1].name);}}catch(err){_iterator.e(err);}finally{_iterator.f();}};var titleF=function titleF(e){title=e.target.value;if(title){form.append('title',title);}};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(coverPhoto&&innerPhotos&&title)){_context.next=12;break;}_context.prev=1;_context.next=4;return axios.post(\"http://192.168.0.140:3002/api/EventUpload\",form).then(function(e){toast.success(\"Upload success\");/*   setTimeout(() => {\n                navigate(\"/Events\")\n              }, 3000); */}).catch(function(e){console.log(e);toast.error(\"Upload error\");});case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);alert('upload failed');console.log(_context.t0);case 10:_context.next=13;break;case 12:alert('empty fields!');case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){return coverPhotoF(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,onChange:function onChange(e){return innerPhotosF(e);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return titleF(e);}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return onSubmit(e);}})]});}","map":{"version":3,"names":["axios","React","Button","toast","UploadEvent","form","FormData","coverPhoto","innerPhotos","title","coverPhotoF","e","delete","target","files","append","name","innerPhotosF","i","length","entries","pair","console","log","titleF","value","onSubmit","post","then","success","catch","error","alert"],"sources":["C:/Users/DellPc2/Desktop/scmp-website-new/scmp-website-new/client/src/components/admin/UploadEvent.jsx"],"sourcesContent":["import axios from 'axios';\nimport React from 'react'\nimport { Button } from 'react-bootstrap';\nimport { toast } from 'react-toastify';\n\nexport default function UploadEvent() {\nlet form=new FormData();\nlet coverPhoto, innerPhotos , title;\n    const coverPhotoF = e=>{\n        form.delete('coverPhoto')\n        coverPhoto=e.target.files\n        if(coverPhoto){\n        form.append('coverPhoto', coverPhoto[0], coverPhoto[0].name)\n    \n    \n    }}\n    const innerPhotosF = e=>{\n     \n        form.delete('innerPhotos')\n        innerPhotos=e.target.files\n        if(innerPhotos){\n            for(let i=0 ; i<innerPhotos.length; i++){\n                form.append('innerPhotos', innerPhotos[i], innerPhotos[i].name)\n            }\n        }\n        for (var pair of form.entries()) {\n            console.log(pair[0]+ ', ' + pair[1].name); \n          }\n    }\n    const titleF = e=>{\n\n        title=e.target.value\n        if(title){\n        form.append('title',title)\n    }\n}\n    const onSubmit=async e=>{\n        if(coverPhoto && innerPhotos && title){\n            try {\n                \n                await axios.post(\"http://192.168.0.140:3002/api/EventUpload\", form)\n                .then((e) => {\n               \n                   toast.success(\"Upload success\");\n            /*   setTimeout(() => {\n                navigate(\"/Events\")\n              }, 3000); */\n                  \n                 \n                })\n                .catch((e) => {\n                console.log(e)\n                  toast.error(\"Upload error\");\n                });  \n            } catch (error) {\n                alert ('upload failed')\n                console.log(error)\n            }\n        }\n        else{\n            alert('empty fields!')\n        }\n    }\n  return (\n    <div>\n      \n        <input type=\"file\" onChange={e=>coverPhotoF(e)}/>\n        <input type=\"file\" multiple onChange={e=>innerPhotosF(e)}/>\n        <input type=\"text\" onChange={e=>titleF(e)}/>\n<Button onClick={e=>onSubmit(e)}></Button>\n\n\n\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}